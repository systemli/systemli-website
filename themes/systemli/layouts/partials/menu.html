<header>
    <nav id="navbar">
        <div class="flex flex-col-reverse justify-end lg:flex-row lg:justify-between page-width w-full lg:page-width-lg">
            <div class="flex flex-col lg:block">
                {{ $currentPage := . }}
                {{ range .Site.Menus.main }}
                <!-- manually exclude "Posts" section from menu -->
                {{ if ne .Name "Posts" }}
                <a class="menu-item inline-block border-b lg:border-b-0 lg:border-white text-white
                    {{if or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .) }} active {{end}}"
                href="{{ .URL }}" title="{{ .Title }}">
                {{ .Name }}
                </a>
                {{ end }}
                {{ end }}
            </div>
            <div class="flex justify-between items-center pb-24 lg:pb-0">
                {{ if .IsTranslated }}
                {{ range .Translations }}
                <a class="text-black hover:no-underline hover:text-white mx-2" href="{{ .Permalink }}">{{ .Language.LanguageName }}</a>
                {{ end }}
                {{ end }}
                <a class="menu-icon" href="https://twitter.com/systemli" target="_blank">
                    <svg class="menu-icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                        <path d="M512 97.248c-19.04 8.352-39.328 13.888-60.48 16.576 21.76-12.992 38.368-33.408 46.176-58.016-20.288 12.096-42.688 20.64-66.56 25.408C411.872 60.704 384.416 48 354.464 48c-58.112 0-104.896 47.168-104.896 104.992 0 8.32.704 16.32 2.432 23.936-87.264-4.256-164.48-46.08-216.352-109.792-9.056 15.712-14.368 33.696-14.368 53.056 0 36.352 18.72 68.576 46.624 87.232-16.864-.32-33.408-5.216-47.424-12.928v1.152c0 51.008 36.384 93.376 84.096 103.136-8.544 2.336-17.856 3.456-27.52 3.456-6.72 0-13.504-.384-19.872-1.792 13.6 41.568 52.192 72.128 98.08 73.12-35.712 27.936-81.056 44.768-130.144 44.768-8.608 0-16.864-.384-25.12-1.44C46.496 446.88 101.6 464 161.024 464c193.152 0 298.752-160 298.752-298.688 0-4.64-.16-9.12-.384-13.568 20.832-14.784 38.336-33.248 52.608-54.496z"/>
                    </svg>
                </a>
                <a class="menu-icon" href="{{ .Site.BaseURL }}/{{ .Site.LanguagePrefix }}/index.xml" target="_blank">
                    <svg class="menu-icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 -256 1792 1792">
                        <path d="M596.61 1154.17q0 80-56 136t-136 56q-80 0-136-56t-56-136q0-80 56-136t136-56q80 0 136 56t56 136zm512 123q2 28-17 48-18 21-47 21h-135q-25 0-43-16.5t-20-41.5q-22-229-184.5-391.5t-391.5-184.5q-25-2-41.5-20t-16.5-43v-135q0-29 21-47 17-17 43-17h5q160 13 306 80.5t259 181.5q114 113 181.5 259t80.5 306zm512 2q2 27-18 47-18 20-46 20h-143q-26 0-44.5-17.5t-19.5-42.5q-12-215-101-408.5t-231.5-336q-142.5-142.5-336-231.5t-408.5-102q-25-1-42.5-19.5t-17.5-43.5v-143q0-28 20-46 18-18 44-18h3q262 13 501.5 120t425.5 294q187 186 294 425.5t120 501.5z" fill="currentColor"/>
                    </svg>
                </a>
                <a class="menu-icon" href="https://github.com/systemli/" target="_blank">
                    <svg class="menu-icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024">
                        <path d="M512 0C229.12 0 0 229.12 0 512c0 226.56 146.56 417.92 350.08 485.76 25.6 4.48 35.2-10.88 35.2-24.32 0-12.16-.64-52.48-.64-95.36-128.64 23.68-161.92-31.36-172.16-60.16-5.76-14.72-30.72-60.16-52.48-72.32-17.92-9.6-43.52-33.28-.64-33.92 40.32-.64 69.12 37.12 78.72 52.48 46.08 77.44 119.68 55.68 149.12 42.24 4.48-33.28 17.92-55.68 32.64-68.48-113.92-12.8-232.96-56.96-232.96-252.8 0-55.68 19.84-101.76 52.48-137.6-5.12-12.8-23.04-65.28 5.12-135.68 0 0 42.88-13.44 140.8 52.48 40.96-11.52 84.48-17.28 128-17.28 43.52 0 87.04 5.76 128 17.28 97.92-66.56 140.8-52.48 140.8-52.48 28.16 70.4 10.24 122.88 5.12 135.68 32.64 35.84 52.48 81.28 52.48 137.6 0 196.48-119.68 240-233.6 252.8 18.56 16 34.56 46.72 34.56 94.72 0 68.48-.64 123.52-.64 140.8 0 13.44 9.6 29.44 35.2 24.32C877.44 929.92 1024 737.92 1024 512 1024 229.12 794.88 0 512 0z"/>
                    </svg>
                </a>
                <div id="button-menu-close" class="flex lg:hidden items-center justify-center h-20 w-20 bg-black cursor-pointer">
                    <span class="text-white">
                        close
                    </span>
                </div>
            </div>
        </div>
    </nav>
    <div id="mobile-menu-overlay" class="hidden z-40 w-full h-full top-0 left-0 fixed bg-black opacity-50"></div>
    <div class="flex flex-row items-center justify-between page-width lg:page-width-lg py-4 mb-4 lg:mb-0">
        <a class="w-64 lg:w-1/4 max-w-sm ml-3 lg:m-3" href="{{ .Site.BaseURL }}/{{ .Site.LanguagePrefix }}">
            <img src="/systemli_logo.svg" alt="logo">
        </a>
        <p class="hidden lg:block max-w-half text-right">/*
            {{ if isset .Params "description" }}{{ .Param "description" }}
            {{ else }}{{ .Param "subtitle" }}{{ end }}
            */</p>
        <div id="button-menu-open" class="absolute right-0 flex lg:hidden items-center justify-center h-20 w-20 bg-lightblue cursor-pointer">
            <span class="text-white font-bold">
                Menu
            </span>
        </div>
    </div>
</header>
